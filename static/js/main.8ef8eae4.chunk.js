(this["webpackJsonpfriends-list"]=this["webpackJsonpfriends-list"]||[]).push([[0],[,,,,,,,function(e,t,n){e.exports={spinner:"Spinner_spinner__2xPxX",load1:"Spinner_load1__3YU-K",warning:"Spinner_warning__is8i7"}},function(e,t,n){},,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),o=n(9),s=n.n(o),a=n(2);n(16);var r=function(){return Object(c.jsx)("div",{className:"header",children:Object(c.jsx)("div",{className:"header__textbox",children:Object(c.jsx)("h1",{className:"heading__primary",children:"2021 Video Game Predictions"})})})},u=n(3),d=n(10);n(17),n(8);function l(e){var t=Object(i.useState)(!1),n=Object(a.a)(t,2),o=n[0],s=n[1],r=Object(i.useState)(e.guess),u=Object(a.a)(r,2),d=u[0],l=u[1];function j(t){t.preventDefault(),e.editPrediction(e.id,d),l(d),s(!1)}var b=Object(c.jsxs)("form",{className:"stack-small",onSubmit:j,children:[Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("textarea",{id:e.id,className:"text form__input--editing",type:"text",onChange:function(e){l(e.target.value),console.log(e.key,e.charCode),"Enter"!==e.key&&"Enter"!==e.code||j(e)},placeholder:e.guess,required:!0,autoComplete:"off",maxLength:"120",rows:"4",value:d})}),Object(c.jsxs)("div",{className:"btn-group",children:[Object(c.jsx)("button",{type:"button",className:"btn cancel",onClick:function(){return s(!1)},children:"Cancel"}),Object(c.jsx)("button",{type:"submit",className:"btn btn__primary edit",children:"Save"})]})]}),p=Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:e.id,children:Object(c.jsxs)("p",{className:"prediction__text",children:[" ",e.guess," "]})}),Object(c.jsx)("input",{className:"prediction__checkbox",id:e.id,type:"checkbox",defaultChecked:e.outcome,onChange:function(){return e.togglePredictionOutcome(e.id,e.outcome)}})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{type:"button",className:"btn",onClick:function(){return s(!0)},disabled:e.committed,children:"Edit"}),Object(c.jsx)("button",{className:"btn",type:"button",onClick:function(){return e.deletePrediction(e.id)},disabled:e.committed,children:"Delete"}),Object(c.jsx)("button",{className:"btn",type:"button",onClick:function(){return e.commitPrediction(e.id)},disabled:e.committed,children:"Commit"})]})]});return Object(c.jsx)("li",{className:"prediction__item",children:o?b:p})}n(18);var j=function(e){var t=Object(i.useState)(""),n=Object(a.a)(t,2),o=n[0],s=n[1],r=Object(i.useState)(0),u=Object(a.a)(r,2),d=(u[0],u[1]);return Object(c.jsxs)("form",{className:"form",onSubmit:function(t){var n=e.getid();d(n+1),t.preventDefault(),0!==o.length&&(fetch("https://glacial-castle-18259.herokuapp.com/addguess",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:n+1,guess:o,owner:e.guessOwner,outcome:!1,committed:!1})}).then().catch((function(e){return console.log(e)})),e.addid(),e.addPrediction(o),s(""))},children:[Object(c.jsx)("textarea",{className:"form__input",type:"text",guess:"text",autoComplete:"off",value:o,onChange:function(t){s(t.target.value),d(e.getid)},placeholder:"Create a new prediction",maxLength:"120",rows:"4"}),Object(c.jsx)("button",{className:"btn form__button",type:"submit",children:"Add"})]})};var b=function(e){return Object(c.jsx)("button",{className:"btn",type:"button","aria-pressed":"true",onClick:function(){return e.setFilter(e.guess)},children:Object(c.jsx)("span",{children:e.guess})})},p=(n(19),{All:function(){return!0},Correct:function(e){return e.outcome},Incorrect:function(e){return!e.outcome}}),h=Object.keys(p);var m=function(e){var t=Object(i.useState)("All"),n=Object(a.a)(t,2),o=n[0],s=n[1],r=Object(i.useState)(0),m=Object(a.a)(r,2),f=m[0],O=m[1],g=Object(i.useState)(e.predictions),x=Object(a.a)(g,2),v=x[0],_=x[1],y=Object(i.useState)(!1),N=Object(a.a)(y,2);function C(){fetch("https://glacial-castle-18259.herokuapp.com/returnid").then((function(e){return e.json()})).then((function(e){O(e[0].max)})).catch((function(e){return console.log(e)}))}function S(e,t){var n=v.map((function(n){return e===n.id?(fetch("https://glacial-castle-18259.herokuapp.com/editoutcome",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:e,outcome:t})}).then().catch((function(e){return console.log(e)})),Object(u.a)(Object(u.a)({},n),{},{outcome:!n.outcome})):n}));_(n)}function k(e){fetch("https://glacial-castle-18259.herokuapp.com/delete",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:e})}).then().catch((function(e){return console.log(e)}));var t=v.filter((function(t){return e!==t.id}));_(t)}function w(e,t){var n=v.map((function(n){return e===n.id?Object(u.a)(Object(u.a)({},n),{},{guess:t}):n}));fetch("https://glacial-castle-18259.herokuapp.com/editguess",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:e,guess:t})}).then().catch((function(e){return console.log(e)})),_(n)}function P(e){var t=v.map((function(t){return e===t.id?Object(u.a)(Object(u.a)({},t),{},{committed:!0}):t}));fetch("https://glacial-castle-18259.herokuapp.com/commit",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:e,commit:!0})}).then().catch((function(e){return console.log(e)})),_(t)}N[0],N[1];var J=v.filter(p[o]).map((function(e){return Object(c.jsx)(l,{id:e.id,guess:e.guess,outcome:e.outcome,committed:e.committed,togglePredictionOutcome:S,deletePrediction:k,editPrediction:w,commitPrediction:P},e.id)})),A=h.map((function(e){return Object(c.jsx)(b,{guess:e,isPressed:e===o,setFilter:s},e)}));return C(),Object(c.jsxs)("div",{className:"prediction__block",children:[Object(c.jsx)("h1",{className:"prediction__heading",children:e.name}),Object(c.jsx)("div",{className:"prediction__filters",children:A}),Object(c.jsx)("ul",{className:"prediction__list","aria-labelledby":"list-heading",children:J}),Object(c.jsx)(j,{guessOwner:e.owner,addPrediction:function(e){var t={id:f+1,guess:e,outcome:!1,committed:!1};_([].concat(Object(d.a)(v),[t]))},getid:function(){return C(),f},addid:function(){O((function(){return f+1}))}})]})},f=n(7),O=n.n(f),g=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{className:O.a.warning,children:"Heroku DB can be slow when inactive for a while"}),Object(c.jsx)("div",{className:O.a.spinner,children:"Loading..."})]})};var x=function(e){var t=Object(i.useState)(!1),n=Object(a.a)(t,2),o=n[0],s=n[1],u=Object(i.useState)([]),d=Object(a.a)(u,2),l=d[0],j=d[1],b=Object(i.useState)([]),p=Object(a.a)(b,2),h=p[0],f=p[1],O=Object(i.useState)([]),x=Object(a.a)(O,2),v=x[0],_=x[1],y=null;return o||(y=Object(c.jsx)(g,{}),fetch("https://glacial-castle-18259.herokuapp.com/").then((function(e){return e.json()})).then((function(e){e.forEach((function(e){"Chris"===e.owner?j(l.push(e)):"Sean"===e.owner?f(h.push(e)):"Justus"===e.owner&&_(v.push(e)),s(!0)}))})).catch((function(e){}))),o&&(y=Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(m,{owner:"Sean",name:"Sean's Predictions",predictions:h}),Object(c.jsx)(m,{owner:"Chris",name:"Chris' Predictions",predictions:l}),Object(c.jsx)(m,{owner:"Justus",name:"Justus' Predictions",predictions:v})]})),Object(c.jsxs)("div",{children:[Object(c.jsx)(r,{}),Object(c.jsx)("div",{className:["Apparea"],children:y})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),o(e),s(e)}))};s.a.render(Object(c.jsx)(x,{}),document.getElementById("root")),v()}],[[20,1,2]]]);
//# sourceMappingURL=main.8ef8eae4.chunk.js.map